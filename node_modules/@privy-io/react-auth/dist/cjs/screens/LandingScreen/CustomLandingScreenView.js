"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline/UserCircleIcon"),o=require("react"),s=require("styled-components"),i=require("../../components/ModalFooter.js"),n=require("../../components/ModalHeader.js"),t=require("../../configuration/context.js"),a=require("../../hooks/internal-context.js"),c=require("../../hooks/modal-context.js"),l=require("../../lib/toDisplayFromAccountType.js"),u=require("../../recent-login/context.js"),j=require("../../utils/index.js"),p=require("./AppLogoHeader.js"),q=require("./CrossAppButton.js"),d=require("./EmailButton.js"),h=require("./FarcasterButton.js"),g=require("./PasskeyLink.js"),m=require("./SmsButton.js"),v=require("./SocialButton.js"),f=require("./TelegramButton.js"),y=require("./WalletButtonList.js"),x=require("./Web2OverflowButton.js"),b=require("./styles.js");function w(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../config.js"),require("../../configuration/defaultClientConfig.js"),require("../../constants.js"),require("../../configuration/login-methods.js"),require("../../configuration/wallets.js"),require("../../connectors/chains/index.js"),require("../../connectors/chains/arbitrum.js"),require("../../connectors/chains/arbitrumSepolia.js"),require("../../connectors/chains/avalanche.js"),require("../../connectors/chains/avalancheFuji.js"),require("../../connectors/chains/base.js"),require("../../connectors/chains/baseSepolia.js"),require("../../connectors/chains/berachainArtio.js"),require("../../connectors/chains/celo.js"),require("../../connectors/chains/celoAlfajores.js"),require("../../connectors/chains/filecoin.js"),require("../../connectors/chains/filecoinCalibration.js"),require("../../connectors/chains/garnetHolesky.js"),require("../../connectors/chains/holesky.js"),require("../../connectors/chains/linea.js"),require("../../connectors/chains/lineaTestnet.js"),require("../../connectors/chains/lukso.js"),require("../../connectors/chains/mainnet.js"),require("../../connectors/chains/optimism.js"),require("../../connectors/chains/optimismSepolia.js"),require("../../connectors/chains/polygon.js"),require("../../connectors/chains/polygonAmoy.js"),require("../../connectors/chains/redstone.js"),require("../../connectors/chains/sepolia.js"),require("../../connectors/chains/zora.js"),require("../../connectors/chains/zoraSepolia.js"),require("../../connectors/chains/zoraTestnet.js"),require("../../connectors/chains/utils.js"),require("../../lib/solana/index.js"),require("../../theme.js"),require("tinycolor2"),require("../../lib/cybr53.js"),require("../../hooks/index.js"),require("../../components/PrefetchedImage.js"),require("../index.js"),require("../../hooks/events-context.js"),require("../../storage.js"),require("@ethersproject/providers"),require("../../connectors/get-legacy-injected-providers.js"),require("../../connectors/is-wallet-installed.js"),require("../../errors.js"),require("ofetch"),require("../../components/AppLogo.js"),require("../../components/Loader.js"),require("../../components/ProviderAppLogo.js"),require("../../hooks/privy-context.js"),require("@heroicons/react/24/outline/EnvelopeIcon"),require("../../components/ConnectEmailForm.js"),require("../../hooks/captcha-context.js"),require("../../components/Button.js"),require("../../components/ui/chips/Chip.js"),require("../../components/ui/animation/LoadingSkeleton.js"),require("../../components/ui/forms/EmailInputForm.js"),require("../../components/ui/typography/ErrorMessage.js"),require("../../svg/farcaster.js"),require("@heroicons/react/24/outline/PhoneIcon"),require("../../components/ConnectPhoneForm.js"),require("../../PhoneCountryDropdown-JNQITU4K.js"),require("../../svg/apple.js"),require("../../svg/discord.js"),require("../../svg/github.js"),require("../../svg/google.js"),require("../../svg/instagram.js"),require("../../svg/linkedin.js"),require("../../svg/spotify.js"),require("../../svg/tiktok.js"),require("../../svg/twitter.js"),require("../../svg/telegram.js"),require("./EmptyWalletView.js"),require("./WalletButton.js"),require("react-device-detect"),require("../../components/external-wallets/InjectedWalletIcon.js"),require("@heroicons/react/24/outline/WalletIcon"),require("../../lib/external-wallets/displayHelpers.js"),require("../../svg/brave-browser-icon.js"),require("../../svg/bybit.js"),require("../../svg/coinbase-wallet.js"),require("../../svg/cryptocom.js"),require("../../svg/metamask.js"),require("../../svg/phantom.js"),require("../../svg/rabby.js"),require("../../svg/rainbow.js"),require("../../svg/safe.js"),require("../../svg/uniswap.js"),require("../../svg/universal-profile.js"),require("../../svg/wallet-connect.js"),require("../../svg/zerion.js"),require("../../lib/isEmbeddedWebview.js"),require("@heroicons/react/24/outline/ChevronRightIcon");var k=/*#__PURE__*/w(r);let B=({primary:e,overflow:r})=>e<5?e:5===e&&0===r?5:4,S=/*#__PURE__*/s.styled(p.AppLogoHeader).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-39bad2d4-0"})(["margin-bottom:16px;"]);exports.CustomLandingScreenView=({connectOnly:r})=>{let{closePrivyModal:s,connectors:p}=a.usePrivyInternal(),{app:w,onUserCloseViaDialogOrKeybindRef:C,data:M}=c.usePrivyModal(),{appearance:{palette:{colorScheme:A}}}=t.useAppConfig(),{accountType:I,walletClientType:L,chainType:E}=u.useRecentlyUsedLogin(),F=I?l.toDisplayFromAccountType(I):null,T=w.loginMethodsAndOrder?.primary??[],W=w.loginMethodsAndOrder?.overflow??[],O=[...T,...W],P=w.loginMethods.passkey,H=M?.login,V=[];L&&O.includes(L)?V.push(L):I&&O.includes(F?.loginMethod)&&V.push(F?.loginMethod);let[z,D]=o.useState("default"),[R,U]=o.useState("phone"===I?"sms":"email");o.useEffect((()=>{"phone"===I&&U("sms");let e=O.indexOf("sms"),r=O.indexOf("email");e>-1&&e<r&&U("sms")}),[I,T,W]);let K=()=>{s({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{D("default")}),150)};C.current=K;let N=o=>"email"===o?/*#__PURE__*/e.jsx(d.EmailButton,{isEditable:"email"===R,setIsEditable:()=>{U("email")},defaultValue:"email"===H?.prefill?.type?H.prefill.value:void 0},o):"sms"===o?/*#__PURE__*/e.jsx(m.SmsButton,{isEditable:"sms"===R,setIsEditable:()=>{U("sms")},defaultValue:"phone"===H?.prefill?.type?H.prefill.value:void 0},o):"apple"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"apple"},o):"discord"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"discord"},o):"farcaster"===o?/*#__PURE__*/e.jsx(h.FarcasterButton,{},o):"github"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"github"},o):"google"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"google"},o):"linkedin"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"linkedin"},o):"spotify"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"spotify"},o):"instagram"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"instagram"},o):"tiktok"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"tiktok"},o):"twitter"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"twitter"},o):"telegram"===o?/*#__PURE__*/e.jsx(f.TelegramButton,{},o):o.startsWith("privy:")?/*#__PURE__*/e.jsx(q.CrossAppButton,{appId:o.replace("privy:","")},o):y.toWalletButtons({walletList:w.appearance.walletList,walletChainType:w.appearance.walletChainType,connectors:p,connectOnly:r,ignore:O,walletConnectEnabled:w.externalWallets.walletConnect.enabled,forceWallet:{wallet:o,chainType:E??"ethereum"}}),Q=V.flatMap(N),X=T.filter((e=>e!==L&&e!==F?.loginMethod)).flatMap(N),Y=W.filter((e=>e!==L&&e!==F?.loginMethod)).flatMap(N),[$,G]=j.splitAtIndex([...Q,...X,...Y],B({primary:X.length+Q.length,overflow:Y.length}));/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(n.ModalHeader,{title:w.appearance.landingHeader,onClose:K,backFn:"default"===z?void 0:()=>{D("default")}}),"default"===z&&/*#__PURE__*/e.jsx(S,{}),"default"===z&&("string"==typeof w.appearance.loginMessage?/*#__PURE__*/e.jsx(b.Subtitle,{children:w.appearance.loginMessage}):w.appearance.loginMessage),/*#__PURE__*/e.jsx(b.AlignBottom,{style:{overflow:"hidden"},children:/*#__PURE__*/e.jsxs(b.LoginMethodContainerWithScrollShadows,{$colorScheme:A,style:{maxHeight:400,overflowY:"scroll",padding:2},children:["default"===z&&/*#__PURE__*/e.jsxs(e.Fragment,{children:[$,G.length>0&&/*#__PURE__*/e.jsx(x.Web2OverflowButton,{text:"More options",icon:/*#__PURE__*/e.jsx(k.default,{}),onClick:()=>D("overflow")})]}),"overflow"===z&&/*#__PURE__*/e.jsx(e.Fragment,{children:G}),P&&"default"===z&&/*#__PURE__*/e.jsx(g.PasskeyLink,{})]})}),w&&/*#__PURE__*/e.jsx(i.TermsAndConditions,{app:w}),/*#__PURE__*/e.jsx(i.BlobbyFooter,{})]})};
