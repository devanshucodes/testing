"use strict";var e=require("@ethersproject/bignumber"),r=require("react"),t=require("../../embedded-wallets/rpc/index.js"),s=require("../../hooks/internal-context.js"),a=require("../../hooks/privy-context.js"),i=require("../../index-DNFBYH7-.js");require("@ethersproject/providers"),require("../../constants.js"),require("../../ethers-De6TACnn.js"),require("../../hooks/index.js"),require("@ethersproject/abstract-signer"),require("@ethersproject/contracts"),require("@ethersproject/transactions"),require("@ethersproject/units"),require("fetch-retry"),require("../../errors-3fxlG6WB.js");exports.usePrepareTransaction=(n,u,c)=>{let[o,l]=r.useState(null),{getAccessToken:h}=a.usePrivyContext(),{walletProxy:q}=s.usePrivyInternal();return r.useEffect((()=>{o&&l(null),(async()=>{if(!await h()||!q||!u)return null;let r=[],s=await i.g(u.address,n,c).catch((e=>(r.push(e),n))),{totalGasEstimate:a,l1ExecutionFeeEstimate:o}=await i.o(s,c).catch((e=>(r.push(e),{totalGasEstimate:null,l1ExecutionFeeEstimate:null}))),{balance:l,hasSufficientFunds:d}=await t.getAndCheckBalance(u.address,s,a??e.BigNumber.from(0),c).catch((e=>(r.push(e),{balance:null,hasSufficientFunds:!1})));return{tx:s,totalGasEstimate:a,l1ExecutionFeeEstimate:o,balance:l,hasFunds:d,errors:r}})().then(l)}),[n]),o};
