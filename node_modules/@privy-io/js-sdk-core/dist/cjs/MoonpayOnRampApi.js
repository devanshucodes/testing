"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("fetch-retry"),e=require("@privy-io/public-api"),a=require("./Error.js"),t=require("./funding/moonpay.js");require("./chains/arbitrum.js"),require("./chains/base.js"),require("./chains/celo.js"),require("./chains/mainnet.js"),require("./chains/optimism.js"),require("./chains/polygon.js");exports.default=class{_privyInternal;constructor(r){this._privyInternal=r}async sign(r){return await this._privyInternal.fetch(e.MoonpayOnRampSign,{body:r})}async getTransactionStatus({transactionId:e,useSandbox:n}){const i=n?"sandbox":"prod",{url:s,key:o}=t.MoonpayEnvironments[i],c=await r(fetch,{retries:3,retryDelay:500})(`${s}/transactions/ext/${e}?apiKey=${o}`);if(!c.ok)throw new a.MoonpayApiError({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:c});const u=await c.json();return Array.isArray(u)?u.at(0):void 0}};
